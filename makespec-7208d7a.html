<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Jakob Voß" />
  <meta name="date" content="2013-05-21 18:17:34 +0200" />
  <title>Creating specifications with makespec</title>
   <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
  body { font-family: sans-serif; }
  a { text-decoration: none }
  a:hover { text-decoration: underline }
  h1 { font: 170% sans-serif }
  h1.title { font-size: 200%; font-weight: bold; }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  dt { font-weight: bold; }
  h1, h2, h3, h1 a, h2 a, h3 a { color: #005A9C; }
  table { border-collapse: collapse; }
  td { border: 1px solid #999; padding: 3px }
  dl p { margin-top: 0; }
  dt { margin-top: 0.8em; }
  dd { margin-left: 1.5em; }
  ol { margin-bottom: 1em; }
  table + p { margin-top: 1em; }
  </style>
</head>
<body>
<a href="https://github.com/jakobib/makespec/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
<header>
<h1 class="title">Creating specifications with makespec</h1>
<h3 class="author">Jakob Voß</h3>
<h4 class="date">2013-05-21 18:17:34 +0200</h4>
</header>

<h1>Table of Contents</h1>
<nav id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#usage"><span class="toc-section-number">2</span> Usage</a><ul>
<li><a href="#synopsis"><span class="toc-section-number">2.1</span> Synopsis</a></li>
<li><a href="#configuration"><span class="toc-section-number">2.2</span> Configuration</a></li>
<li><a href="#document-variables"><span class="toc-section-number">2.3</span> Document variables</a></li>
<li><a href="#requirements"><span class="toc-section-number">2.4</span> Requirements</a></li>
</ul></li>
<li><a href="#examples"><span class="toc-section-number">3</span> Examples</a></li>
<li><a href="#revision-history"><span class="toc-section-number">4</span> Revision history</a></li>
</ul>
</nav>
<h1 id="introduction"><a href="#TOC"><span class="header-section-number">1</span> Introduction</a></h1>
<p><strong>makespec</strong> is a git repository containing a Makefile and templates to create specifications written in <a href="http://johnmacfarlane.net/pandoc/demo/example9/pandocs-markdown.html">Pandoc Markdown</a>. The Makefile also supports generating and updating <a href="http://pages.github.com/">GitHub pages</a> to publish the specification.</p>
<p>Feel free to reuse, <a href="https://github.com/jakobib/makespec/issues">comment</a>, fork, and modify! The current version can be found at <a href="https://github.com/jakobib/makespec"><code class="url">https://github.com/jakobib/makespec</code></a>.</p>
<h1 id="usage"><a href="#TOC"><span class="header-section-number">2</span> Usage</a></h1>
<a id="Synopsis"></a><h2 id="synopsis"><a href="#TOC"><span class="header-section-number">2.1</span> Synopsis</a></h2>
<p>Create a git repository to host your specification</p>
<pre><code>mkdir yourspec &amp;&amp; cd yourspec
git init</code></pre>
<p>Include makespec as git submodule</p>
<pre><code>git submodule add https://github.com/jakobib/makespec.git</code></pre>
<p>Create a short <code>Makefile</code> with basic metadata and settings</p>
<pre><code>NAME=yourspec
GITHUB=http://github.com/youraccount/yourspec/
FORMATS=
REVISIONS=

include makespec/Makefile</code></pre>
<p>Write the specification in Markdown syntax, for instance with vim editor</p>
<pre><code>vim facyspec.md</code></pre>
<p>Create a HTML version</p>
<pre><code>make html</code></pre>
<p>Commit to your repository</p>
<pre><code>git add Makefile yourspec.md
git commit -m &quot;created a fancy specification&quot;</code></pre>
<p>Create a <code>gh-pages</code> branch with the HTML version</p>
<pre><code>make website</code></pre>
<p>To fully clone a repository that makes use of makespec:</p>
<pre><code>git clone git@github.com:youraccount/yourspec.git
git checkout -b gh-pages origin/gh-pages &amp;&amp; git checkout master
git submodule update --init</code></pre>
<a id="Configuration"></a><h2 id="configuration"><a href="#TOC"><span class="header-section-number">2.2</span> Configuration</a></h2>
<dl>
<dt>NAME</dt>
<dd><p>Required short name. Should not contain spaces and similar nasty characters.</p>
</dd>
<dt>SOURCE</dt>
<dd><p>Source file in Pandoc Markdown syntax, set to <code>NAME.md</code> by default.</p>
</dd>
<dt>GITHUB</dt>
<dd><p>Github repository to link to in revision history.</p>
</dd>
<dt>REVISIONS</dt>
<dd><p>Number of revisions to show in the revision history (GIT-CHANGES).</p>
</dd>
<dt>FORMATS</dt>
<dd><p>If your specification contains a RDF ontology written in Turtle syntax, set <code>FORMATS=ttl owl</code>. More formats may be supported in the future.</p>
</dd>
<dt>TITLE</dt>
<dd><p>Title, unless already specified in the source file.</p>
</dd>
<dt>AUTHOR</dt>
<dd><p>List of authors, unless already specified in the source file.</p>
</dd>
<dt>DATE</dt>
<dd><p>Fixed date of publication. Set to a timestamp of the latest commit by default.</p>
</dd>
<dt>ABSTRACT</dt>
<dd><p>A short abstract (in Markdown syntax) which is used as template variable DOCUMENT_ABSTRACT.</p>
</dd>
<dt>ABSTRACT_FROM</dt>
<dd><p>A file to read abstract from if no ABSTRACT was defined. Set to <code>abstract.md</code> by default.</p>
</dd>
</dl>
<a id="Document variables"></a><h2 id="document-variables"><a href="#TOC"><span class="header-section-number">2.3</span> Document variables</a></h2>
<p>The following character strings (if you replace minus-signs with underscore) are automatically replaced before conversion from Markdown syntax.</p>
<dl>
<dt>GIT-REVISION-DATE</dt>
<dd><p>timestamp of the latest commit.</p>
</dd>
<dt>GIT-REVISION-HASH</dt>
<dd><p>Short revision hash of the latest commit.</p>
</dd>
<dt>GIT-CHANGES</dt>
<dd><p>Revision history. Length can be set with <code>REVISIONS</code>.</p>
</dd>
<dt>GIT-ATOM-FEED</dt>
<dd><p>URL of an Atom feed with revisions at GitHub.</p>
</dd>
<dt>DOCUMENT_ABSTRACT</dt>
<dd><p>Abstract, if defined with configuration variable <code>ABSTRACT</code> or <code>ABSTRACT_FROM</code>.</p>
</dd>
</dl>
<a id="Requirements"></a><h2 id="requirements"><a href="#TOC"><span class="header-section-number">2.4</span> Requirements</a></h2>
<ul>
<li>GNU Make</li>
<li>Perl</li>
<li><a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> version &gt;= 1.9</li>
<li><a href="http://librdf.org/raptor/rapper.html">Rapper</a> from Raptor RDF library (only if writing an RDF ontology)</li>
</ul>
<h1 id="examples"><a href="#TOC"><span class="header-section-number">3</span> Examples</a></h1>
<p>The following specifications make use of makespec:</p>
<ul>
<li><a href="https://github.com/gbv/ssso">Simple Service Status Ontology (SSSO)</a></li>
<li><a href="https://github.com/gbv/dso">Document Service Ontology (DSO)</a></li>
<li><a href="https://github.com/gbv/daiaspec">Document Availability Information API (DAIA)</a></li>
<li><a href="https://github.com/gbv/paia">Patrons Account Information API (PAIA)</a></li>
<li>...</li>
</ul>
<p>Last but not least, the documentation of makespec is also created with makespec. <a href="https://github.com/jakobib/makespec/blob/master/README.md">This document</a> was last modified at 2013-05-21 18:17:34 +0200 with hash <a href="https://github.com/jakobib/makespec/commit/7208d7a94e550978f1cc293403de895a0534adf8">7208d7a</a>.</p>
<h1 id="revision-history"><a href="#TOC"><span class="header-section-number">4</span> Revision history</a></h1>
<p>Also available as <a href="https://github.com/jakobib/makespec/commits/master.atom">Atom feed</a>.</p>
<ul>
<li><a href="makespec-7208d7a.html"><code>2013-05-21 18:17:34 +0200</code></a>: <a href="https://github.com/jakobib/makespec/commit/7208d7a94e550978f1cc293403de895a0534adf8">added ABSTRACT (issue #9)</a></li>
<li><a href="makespec-34c4f84.html"><code>2013-05-20 12:51:38 +0200</code></a>: <a href="https://github.com/jakobib/makespec/commit/34c4f846fa67916b42046ab77554d7354d9b9578">reintroduced DATE as configuration variable</a></li>
<li><a href="makespec-8e27df3.html"><code>2013-04-26 21:08:07 +0200</code></a>: <a href="https://github.com/jakobib/makespec/commit/8e27df3831e2fdc8970ac2715d8abc0f7c3fb0c9">refactored expansion of variables</a></li>
<li><a href="makespec-81c2e0b.html"><code>2013-04-26 20:03:26 +0200</code></a>: <a href="https://github.com/jakobib/makespec/commit/81c2e0bc67a307e6b6625c1903d915c99d8ec155">new variable GIT_ATOM_FEED</a></li>
<li><a href="makespec-f70a476.html"><code>2013-04-11 12:04:14 +0200</code></a>: <a href="https://github.com/jakobib/makespec/commit/f70a476cd89563e094eee611f9014133b64b2286">remove DATE variable</a></li>
</ul>
</body>
</html>
